<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ Typing Practice</title>
<style>
:root{
  --bg:#1e1e1e;
  --panel:#2a2a2a;
  --text:#bdbdbd;
  --accent:#facc15;
  --correct:#22c55e;
  --wrong:#ef4444;
}
.light{
  --bg:#f4f4f4;
  --panel:#ffffff;
  --text:#333;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 25px;
}
header h1{font-size:22px;color:var(--accent)}
header button{background:none;border:none;color:var(--text);font-size:18px;cursor:pointer}

#modes{display:flex;justify-content:center;gap:15px;margin:10px 0}
#modes button{background:var(--panel);border:none;color:var(--text);padding:6px 14px;border-radius:20px;cursor:pointer}
#modes button.active{color:var(--accent)}

#container{max-width:900px;margin:20px auto;padding:20px}
#textBox{
  background:var(--panel);
  padding:25px;
  border-radius:12px;
  font-size:26px;
  line-height:1.6;
  user-select:none;
}
.word.correct{color:var(--correct)}
.word.wrong{color:var(--wrong)}
.word.active{border-left:2px solid var(--accent)}

#input{
  width:100%;
  margin-top:20px;
  background:transparent;
  border:none;
  outline:none;
  color:transparent;
}

#stats{display:flex;justify-content:center;gap:30px;margin-top:20px;font-size:18px}

#keyboard{margin-top:30px;text-align:center}
.key{display:inline-block;background:var(--panel);padding:8px 10px;margin:3px;border-radius:5px;font-size:14px}

#result{display:none;text-align:center;margin-top:30px}

</style>
</head>
<body>
<header>
  <h1>BanglaType</h1>
  <button onclick="toggleTheme()">üåô/‚òÄÔ∏è</button>
</header>

<div id="modes">
  <button onclick="setWords(25)">25</button>
  <button onclick="setWords(50)">50</button>
  <button onclick="setWords(100)" class="active">100</button>
</div>

<div id="container">
  <div id="textBox"></div>
  <input id="input" autofocus>

  <div id="stats">
    <div>WPM: <span id="wpm">0</span></div>
    <div>Accuracy: <span id="acc">0%</span></div>
    <div>Time: <span id="time">0</span>s</div>
  </div>

  <div id="keyboard"></div>

  <div id="result"></div>
</div>

<script>
// WORD DATABASE (sample, expandable to 10k+)
const wordsDB=["‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ","‡¶≠‡¶æ‡¶∑‡¶æ","‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞","‡¶ó‡¶∞‡ßç‡¶¨","‡¶¶‡ßá‡¶∂","‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑","‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ","‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏","‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø","‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡¶§‡¶æ","‡¶ö‡¶∞‡ßç‡¶ö‡¶æ","‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø","‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé","‡¶∂‡¶ï‡ßç‡¶§‡¶ø","‡¶ú‡ßç‡¶û‡¶æ‡¶®","‡¶∏‡¶Æ‡ßç‡¶Æ‡¶æ‡¶®","‡¶∏‡¶Æ‡¶æ‡¶ú","‡¶â‡¶®‡ßç‡¶®‡ßü‡¶®","‡¶Ö‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞","‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ","‡¶∏‡¶Æ‡ßü","‡¶ú‡ßÄ‡¶¨‡¶®","‡¶Ü‡¶≤‡ßã","‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®","‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏","‡¶∏‡¶æ‡¶´‡¶≤‡ßç‡¶Ø","‡¶™‡¶∞‡¶ø‡¶∂‡ßç‡¶∞‡¶Æ","‡¶Æ‡¶®","‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø","‡¶∏‡ßÅ‡¶ñ"];

let totalWords=100;
let words=[];
let current=0;
let startTime=null;
let correctCount=0;

const textBox=document.getElementById('textBox');
const input=document.getElementById('input');

function generateWords(){
  words=[];current=0;correctCount=0;
  for(let i=0;i<totalWords;i++){
    words.push(wordsDB[Math.floor(Math.random()*wordsDB.length)]);
  }
  render();
}

function render(){
  textBox.innerHTML='';
  words.forEach((w,i)=>{
    const span=document.createElement('span');
    span.innerText=w+' ';
    span.className='word'+(i===0?' active':'');
    textBox.appendChild(span);
  });
  input.value='';
  startTime=null;
}

generateWords();

input.addEventListener('input',()=>{
  if(!startTime) startTime=Date.now();
  const typed=input.value.trim();
  const currentWord=words[current];
  const spans=document.querySelectorAll('.word');

  if(typed.endsWith(' ')){
    if(typed.slice(0,-1)===currentWord){
      spans[current].classList.add('correct');
      correctCount++;
    }else{
      spans[current].classList.add('wrong');
    }
    spans[current].classList.remove('active');
    current++;
    if(spans[current]) spans[current].classList.add('active');
    input.value='';

    if(current===words.length){finish();}
  }
  updateStats();
});

function updateStats(){
  if(!startTime) return;
  const elapsed=(Date.now()-startTime)/1000;
  document.getElementById('time').innerText=Math.floor(elapsed);
  const wpm=Math.round((correctCount/elapsed)*60);
  document.getElementById('wpm').innerText=wpm||0;
  document.getElementById('acc').innerText=Math.round((correctCount/current||0)*100)+'%';
}

function finish(){
  const elapsed=(Date.now()-startTime)/1000;
  document.getElementById('result').style.display='block';
  document.getElementById('result').innerHTML=`<h2>Result</h2>
  <p>WPM: ${Math.round((correctCount/elapsed)*60)}</p>
  <p>Accuracy: ${Math.round((correctCount/words.length)*100)}%</p>`;
}

function setWords(n){
  totalWords=n;
  document.querySelectorAll('#modes button').forEach(b=>b.classList.remove('active'));
  event.target.classList.add('active');
  generateWords();
}

function toggleTheme(){
  document.body.classList.toggle('light');
}

// ON-SCREEN KEYBOARD
const keys='‡¶Ö ‡¶Ü ‡¶á ‡¶à ‡¶â ‡¶ä ‡¶è ‡¶ê ‡¶ì ‡¶î ‡¶ï ‡¶ñ ‡¶ó ‡¶ò ‡¶ö ‡¶õ ‡¶ú ‡¶ù ‡¶ü ‡¶† ‡¶° ‡¶¢ ‡¶§ ‡¶• ‡¶¶ ‡¶ß ‡¶® ‡¶™ ‡¶´ ‡¶¨ ‡¶≠ ‡¶Æ ‡¶Ø ‡¶∞ ‡¶≤ ‡¶∂ ‡¶∑ ‡¶∏ ‡¶π ‡ßú ‡ßù ‡ßü'.split(' ');
const kb=document.getElementById('keyboard');
keys.forEach(k=>{
  const d=document.createElement('div');
  d.className='key';d.innerText=k;kb.appendChild(d);
});
</script>
</body>
</html>
