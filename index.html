<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bangla Typing | Monkeytype Style</title>

<style>
:root{
  --bg:#1e1e1e;
  --card:#2a2a2a;
  --text:#eaeaea;
  --accent:#4caf50;
}
.light{
  --bg:#f2f2f2;
  --card:#ffffff;
  --text:#111;
  --accent:#2e7d32;
}
body{
  margin:0;
  font-family: Kalpurush, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}
.container{
  max-width:800px;
  margin:30px auto;
  padding:20px;
}
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
button{
  background:var(--card);
  color:var(--text);
  border:1px solid #555;
  padding:8px 14px;
  cursor:pointer;
  border-radius:6px;
}
button.active{
  background:var(--accent);
  color:#fff;
}
.modes button{margin-right:5px}
.text{
  background:var(--card);
  padding:20px;
  margin-top:20px;
  font-size:20px;
  line-height:1.6;
  border-radius:8px;
}
.correct{color:var(--accent)}
.wrong{color:#e74c3c;text-decoration:underline}
input{
  width:100%;
  margin-top:20px;
  padding:15px;
  font-size:20px;
  background:transparent;
  border:none;
  border-bottom:2px solid var(--accent);
  color:var(--text);
  outline:none;
}
.stats{
  display:flex;
  justify-content:space-between;
  margin-top:15px;
}
.footer{
  text-align:center;
  margin-top:30px;
  opacity:.6;
}
</style>
</head>

<body>
<div class="container">
  <div class="header">
    <h2>‚å®Ô∏è ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ Typing</h2>
    <button onclick="toggleTheme()">üåô / ‚òÄÔ∏è</button>
  </div>

  <div class="modes">
    <button class="active" onclick="setMode('time',60)">60s</button>
    <button onclick="setMode('time',30)">30s</button>
    <button onclick="setMode('time',120)">120s</button>
    <button onclick="setMode('words',25)">25 words</button>
    <button onclick="setMode('practice',0)">Practice</button>
  </div>

  <div class="text" id="text"></div>
  <input id="input" placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ü‡¶æ‡¶á‡¶™ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßã..." oninput="typeCheck()" disabled>

  <div class="stats">
    <div>‚è± <span id="time">60</span></div>
    <div>‚ö° WPM: <span id="wpm">0</span></div>
    <div>üéØ ACC: <span id="acc">0%</span></div>
  </div>

  <div class="footer">
    Monkeytype-style Bangla Typing Practice
  </div>
</div>

<script>
const texts=[
"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶®‡ßá‡¶∞ ‡¶≠‡¶æ‡¶¨ ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡•§",
"‡¶®‡¶ø‡ßü‡¶Æ‡¶ø‡¶§ ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡•§",
"‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡¶æ‡¶§‡¶ø‡¶∞ ‡¶Æ‡ßá‡¶∞‡ßÅ‡¶¶‡¶£‡ßç‡¶°‡•§",
"‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡¶ï‡ßá ‡¶∏‡¶π‡¶ú ‡¶ï‡¶∞‡ßá‡•§",
"‡¶∏‡¶Æ‡ßü ‡¶ì ‡¶ß‡ßà‡¶∞‡ßç‡¶Ø ‡¶∏‡¶æ‡¶´‡¶≤‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ö‡¶æ‡¶¨‡¶ø‡¶ï‡¶æ‡¶†‡¶ø‡•§"
];

let mode="time",limit=60,time=60,start=false;
let current="",index=0,correct=0;

function setText(){
 current=texts[Math.floor(Math.random()*texts.length)];
 document.getElementById("text").innerHTML=current.split("").map(c=>`<span>${c}</span>`).join("");
}
setText();

function setMode(m,l){
 mode=m;limit=l;time=l;
 document.querySelectorAll(".modes button").forEach(b=>b.classList.remove("active"));
 event.target.classList.add("active");
 reset();
}

function reset(){
 start=false;index=0;correct=0;
 document.getElementById("input").value="";
 document.getElementById("input").disabled=false;
 document.getElementById("time").innerText=time;
 document.getElementById("wpm").innerText=0;
 document.getElementById("acc").innerText="0%";
 setText();
}

function toggleTheme(){
 document.body.classList.toggle("light");
}

function typeCheck(){
 if(!start){
   start=true;
   if(mode==="time") timer();
 }
 let input=document.getElementById("input").value;
 let spans=document.querySelectorAll("#text span");
 correct=0;
 spans.forEach((s,i)=>{
   s.className="";
   if(input[i]==null) return;
   if(input[i]===current[i]){
     s.classList.add("correct");
     correct++;
   }else{
     s.classList.add("wrong");
   }
 });
 let words=input.trim().split(/\s+/).length;
 let wpm=Math.round((words/((limit-time)||1))*60);
 document.getElementById("wpm").innerText=wpm;
 document.getElementById("acc").innerText=Math.round((correct/current.length)*100)+"%";
}

function timer(){
 let t=setInterval(()=>{
   time--;
   document.getElementById("time").innerText=time;
   if(time<=0){
     clearInterval(t);
     document.getElementById("input").disabled=true;
   }
 },1000);
}
</script>
</body>
</html>
